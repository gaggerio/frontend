<template>
    <form class="comment-form" @submit.prevent="$emit('saveComment', { text, file })">
        <section class="flex items-center gap-1">
            <div class="file">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="camera">
                    <path fill="none" d="M0 0h24v24H0V0z"></path>
                    <circle fill="currentColor" cx="12" cy="12" r="3"></circle>
                    <path fill="currentColor"
                        d="M20 4h-3.17l-1.24-1.35c-.37-.41-.91-.65-1.47-.65H9.88c-.56 0-1.1.24-1.48.65L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z">
                    </path>
                </svg>
                <input type="file" @change="handleFile">
            </div>
            <div class="file">
                <svg xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"
                    clip-rule="evenodd" viewBox="0 0 64 64" id="gif">
                    <rect fill="none"></rect>
                    <path fill="currentColor"
                        d="M460,38.5L460,14.667C460,8.688 455.519,3.833 450,3.833L414,3.833C408.481,3.833 404,8.688 404,14.667L404,49.333C404,55.312 408.481,60.167 414,60.167C414,60.167 450,60.167 450,60.167C455.519,60.167 460,55.312 460,49.333C460,49.333 460,47.167 460,47.167C460,45.971 459.104,45 458,45C456.896,45 456,45.971 456,47.167L456,49.333C456,52.921 453.311,55.833 450,55.833L414,55.833C410.689,55.833 408,52.921 408,49.333C408,49.333 408,14.667 408,14.667C408,11.079 410.689,8.167 414,8.167C414,8.167 450,8.167 450,8.167C453.311,8.167 456,11.079 456,14.667L456,38.5C456,39.696 456.896,40.667 458,40.667C459.104,40.667 460,39.696 460,38.5Z"
                        transform="matrix(1 0 0 .92308 -400 2.462)"></path>
                    <path fill-rule="nonzero" fill="currentColor"
                        d="M0.732,-0.291L0.732,-0.154C0.732,-0.136 0.73,-0.121 0.727,-0.11C0.723,-0.099 0.716,-0.089 0.707,-0.081C0.697,-0.072 0.685,-0.063 0.67,-0.055C0.627,-0.032 0.585,-0.015 0.545,-0.004C0.505,0.007 0.461,0.012 0.414,0.012C0.359,0.012 0.309,0.004 0.264,-0.013C0.218,-0.03 0.18,-0.055 0.148,-0.087C0.116,-0.119 0.092,-0.158 0.074,-0.204C0.057,-0.25 0.049,-0.301 0.049,-0.358C0.049,-0.414 0.057,-0.465 0.074,-0.511C0.09,-0.557 0.115,-0.596 0.147,-0.628C0.179,-0.661 0.218,-0.685 0.265,-0.702C0.311,-0.719 0.363,-0.728 0.422,-0.728C0.47,-0.728 0.513,-0.722 0.55,-0.709C0.587,-0.696 0.617,-0.68 0.64,-0.66C0.663,-0.641 0.681,-0.62 0.692,-0.598C0.704,-0.576 0.71,-0.557 0.71,-0.54C0.71,-0.522 0.703,-0.506 0.69,-0.493C0.676,-0.481 0.66,-0.474 0.641,-0.474C0.631,-0.474 0.621,-0.477 0.611,-0.481C0.601,-0.486 0.593,-0.493 0.587,-0.502C0.569,-0.53 0.554,-0.551 0.542,-0.565C0.529,-0.58 0.512,-0.592 0.491,-0.602C0.47,-0.611 0.444,-0.616 0.411,-0.616C0.378,-0.616 0.348,-0.61 0.321,-0.599C0.295,-0.587 0.272,-0.571 0.254,-0.549C0.235,-0.527 0.221,-0.5 0.211,-0.468C0.201,-0.436 0.196,-0.401 0.196,-0.362C0.196,-0.278 0.215,-0.213 0.254,-0.168C0.292,-0.123 0.346,-0.1 0.415,-0.1C0.449,-0.1 0.48,-0.104 0.51,-0.113C0.539,-0.122 0.569,-0.135 0.599,-0.151L0.599,-0.267L0.487,-0.267C0.46,-0.267 0.439,-0.271 0.426,-0.279C0.412,-0.287 0.405,-0.301 0.405,-0.321C0.405,-0.337 0.411,-0.35 0.422,-0.36C0.434,-0.371 0.449,-0.376 0.469,-0.376L0.634,-0.376C0.654,-0.376 0.671,-0.374 0.685,-0.371C0.699,-0.367 0.71,-0.359 0.719,-0.347C0.728,-0.334 0.732,-0.316 0.732,-0.291Z"
                        transform="matrix(28 0 0 28 9.633 43.385)"></path>
                    <path fill-rule="nonzero" fill="currentColor"
                        d="M0.084,-0.076L0.084,-0.64C0.084,-0.669 0.091,-0.691 0.104,-0.706C0.117,-0.721 0.135,-0.728 0.156,-0.728C0.178,-0.728 0.195,-0.721 0.209,-0.706C0.222,-0.692 0.229,-0.67 0.229,-0.64L0.229,-0.076C0.229,-0.047 0.222,-0.024 0.209,-0.01C0.195,0.005 0.178,0.012 0.156,0.012C0.135,0.012 0.118,0.005 0.104,-0.01C0.091,-0.025 0.084,-0.047 0.084,-0.076Z"
                        transform="matrix(28 0 0 28 29.648 43.385)"></path>
                    <path fill-rule="nonzero" fill="currentColor"
                        d="M0.506,-0.604L0.22,-0.604L0.22,-0.421L0.459,-0.421C0.481,-0.421 0.498,-0.416 0.509,-0.406C0.519,-0.396 0.525,-0.383 0.525,-0.366C0.525,-0.35 0.519,-0.336 0.508,-0.327C0.497,-0.317 0.481,-0.312 0.459,-0.312L0.22,-0.312L0.22,-0.076C0.22,-0.046 0.213,-0.024 0.2,-0.01C0.186,0.005 0.169,0.012 0.148,0.012C0.126,0.012 0.109,0.005 0.095,-0.01C0.082,-0.024 0.075,-0.047 0.075,-0.076L0.075,-0.627C0.075,-0.648 0.078,-0.665 0.084,-0.678C0.091,-0.691 0.1,-0.701 0.114,-0.707C0.127,-0.713 0.144,-0.716 0.164,-0.716L0.506,-0.716C0.529,-0.716 0.546,-0.711 0.557,-0.7C0.569,-0.69 0.574,-0.677 0.574,-0.66C0.574,-0.643 0.569,-0.63 0.557,-0.619C0.546,-0.609 0.529,-0.604 0.506,-0.604Z"
                        transform="matrix(28 0 0 28 35.922 43.385)"></path>
                </svg>
            </div>
        </section>
        <section class="text">
            <textarea v-model="text" placeholder="Post a comment..." ></textarea>
            <button class="post">Post</button>
        </section>
    </form>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const text = ref<string>('')
const file = ref<File>(null!)

function handleFile(ev: Event) {
    const files = (ev.target as HTMLInputElement).files
    if (!files) return
    file.value = files[0]
}
</script>